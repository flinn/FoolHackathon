<!DOCTYPE html>
<html>
  <head>
    <!--
        For demonstration purposes, the `title` is dynamically set here based on
        your `sails.config.appName` to show that you can inject data into layouts
        exactly the same way as with your other view templates.
    -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="/img/favicon.ico">
    <title><%- title %></title>

    <!-- Viewport mobile tag for sensible mobile support -->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

    <!-- Bootstrap core CSS -->
    <link href="/styles/bootstrap.css" rel="stylesheet">
    <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="/styles/main.css" rel="stylesheet">
    
    <link href='http://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Raleway:400,300,700' rel='stylesheet' type='text/css'>
  </head>

  <body>

    <!-- Include the view file for the current controller/route -->
    <%- body %>
    <!-- Bootstrap core JavaScript -->
    <script type="text/javascript" src="/js/jquery.js"></script>
    <script type="text/javascript" src="/js/bootstrap.min.js"></script>
    <!-- Bring in the socket.io client -->
    <script type="text/javascript" src="/js/socket.io.js"></script>
    <!-- then beef it up with some convenience logic for talking to Sails.js -->
    <script type="text/javascript" src="/js/sails.io.js"></script>
    <!-- listen on socket.io for incoming messages -->
    <script type="text/javascript" src="/js/app.js"></script> 
    <script>
    $(document).ready(function() {
        
        positionJester();

        $('#myTab a').click(function (e) {
            e.preventDefault();
            removeJester();
            
            console.log($(this));
            $(this).tab('show');

            if($(this)[0].hash == "#about") {
                positionJester();
            }
        });

        function removeJester() {
            var jester = $('#hackjester');
            jester.remove();
        }

        function positionJester() {
            var columnHeight = $('#navigation').height();
            var jesterArea = $('#jester-space');
            jesterArea.append('<img id="hackjester" class="img-responsive" style="position: absolute; top: 0; margin-left: 5px;" src="/img/hack_jester_v1.png" />');
            var jester = $('#hackjester');
            jester.css("margin-top", columnHeight - 1360); 
        }

    });
    </script>

    </body>
</html>
